{
    "$id": "blockception.minecraft.behavior.worldgen.template_pools.minecraft.template_pool",
    "type": "object",
    "title": "Template Pool",
    "additionalProperties": false,
    "definitions": {
        "template_pool_element": {
            "title": "Template Pool Element",
            "description": "A template pool item used to define the element and its weight.",
            "type": "object",
            "additionalProperties": false,
            "required": [ "element" ],
            "properties": {
                "element": {
                    "title": "Element",
                    "description": "A grouping of a Structure Template, the Processor List to use when placing the structure, and its weight that determines the likelihood of the element being chosen.",
                    "oneOf": [
                        {
                            "$ref": "#/definitions/empty_element"
                        },
                        {
                            "$ref": "#/definitions/single_element"
                        }
                    ]
                },
                "weight": {
                    "title": "Weight",
                    "description": "The weighted probability of choosing the element from the pool. For example, a template pool containing 2 structures with weights of 1 and 3 will have a 25% and 75% chance of being chosen respectively.",
                    "type": "integer",
                    "minimum": 1.0,
                    "maximum": 200.0
                }
            }
        },
        "empty_element": {
            "type": "object",
            "properties": {
                "element_type": {
                    "title": "Element Type",
                    "description": " The type of element.",
                    "type": "string",
                    "const": "minecraft:empty_pool_element"
                }
            },
            "required": [
                "element_type"
            ]
        },
        "single_element": {
            "type": "object",
            "properties": {
                "element_type": {
                    "title": "Element Type",
                    "description": " The type of element.",
                    "type": "string",
                    "const": "minecraft:single_pool_element"
                },
                "location": {
                    "title": "Location",
                    "description": "The path of the structure file. This path is relative to the behavior pack's \"structures\" folder.",
                    "type": "string"
                },
                "processors": {
                    "title": "Processors",
                    "description": "The identifier of the processor list to use when placing the structure.",
                    "type": "string"
                },
                "projection": {
                    "title": "Projection",
                    "description": "Specifies how structures should be placed relative to the terrain.",
                    "type": "string",
                    "default": "rigid",
                    "anyOf": [
                        {
                            "const": "rigid",
                            "description": "Structures are placed without any height adjustment."
                        },
                        {
                            "const": "terrain_matching",
                            "description": "Structures are placed relative to the terrain height. Structure blocks will adjust along the Y axis to match the ground."
                        }
                    ]
                }
            },
            "required": [
                "element_type",
                "location"
            ]
        }
    },
    "required": [ "description", "elements" ],
    "properties": {
        "description": {
            "title": "Description",
            "description": "The description of this template pool.",
            "type": "object",
            "additionalProperties": false,
            "required": [ "identifier" ],
            "properties": {
                "identifier": {
                    "title": "Identifier",
                    "description": "Identifier of the template pool. This is used by both the start_pool property of the Jigsaw Structure JSON and the Jigsaw Block's Target Pool field.",
                    "type": "string"
                }
            }
        },
        "elements": {
            "title": "Elements",
            "description": "An array of pool elements.",
            "type": "array",
            "minItems": 1,
            "items": {
                "$ref": "#/definitions/template_pool_element"
            }
        },
        "fallback": {
            "title": "Fallback",
            "description": "Fallback template pool to use if no element in the pool can be placed successfully.",
            "type": "string"
        }
    }
}