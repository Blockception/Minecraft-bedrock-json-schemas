{"$schema":"http://json-schema.org/draft-07/schema","$id":"blockception.minecraft.behavior.worldgen.processors.processor_list","type":"object","title":"Processor List","description":"Rules used by Jigsaw Structures to determine which blocks to modify or replace when placing a Structure Template in the world.","required":["format_version","minecraft:processor_list"],"additionalProperties":false,"properties":{"format_version":{"$ref":"#/definitions/A"},"minecraft:processor_list":{"$ref":"#/definitions/B"}},"definitions":{"A":{"title":"Format Version","description":"A version that tells minecraft what type of data format can be expected when reading this file.","pattern":"^([1-9]+)\\.([0-9]+)\\.([0-9]+)$","type":"string","default":"1.21.60","examples":["1.21.50","1.20.80","1.20.40","1.19.0","1.12.0","1.10.0","1.8.0"],"defaultSnippets":[{"label":"New Format version","body":"1.${1|8,10,12,17,18,19,20|}.${3|2|0|}"}]},"D_rule":{"properties":{"block_entity_modifier":{"oneOf":[{"$ref":"#/definitions/D_passthrough"},{"$ref":"#/definitions/D_append_loot"}]},"input_predicate":{"oneOf":[{"$ref":"#/definitions/D_always_true"},{"$ref":"#/definitions/D_block_match"},{"$ref":"#/definitions/D_random_block_match"},{"$ref":"#/definitions/D_tag_match"},{"$ref":"#/definitions/D_blockstate_match"},{"$ref":"#/definitions/D_random_blockstate_match"}]},"location_predicate":{"oneOf":[{"$ref":"#/definitions/D_always_true"},{"$ref":"#/definitions/D_block_match"},{"$ref":"#/definitions/D_random_block_match"},{"$ref":"#/definitions/D_tag_match"},{"$ref":"#/definitions/D_blockstate_match"},{"$ref":"#/definitions/D_random_blockstate_match"}]},"output_state":{"$ref":"#/definitions/E"},"position_predicate":{"oneOf":[{"$ref":"#/definitions/D_always_true"},{"$ref":"#/definitions/D_axis_aligned_linear_pos"}]}},"required":["output_state"]},"D_append_loot":{"title":"Append Loot","description":"Modifier will attempt to add loot to a block entity.","type":"object","additionalProperties":false,"required":["type","loot_table"],"properties":{"loot_table":{"title":"Loot Table","description":"The loot table to append","type":"string"},"type":{"title":"Type","type":"string","const":"minecraft:append_loot"}}},"D_passthrough":{"title":"Passthrough","description":"Modifier that leaves the state unchanged. This is the default block modifier if no other block modifier is specified.","type":"object","additionalProperties":false,"required":["type"],"properties":{"type":{"title":"Type","type":"string","const":"minecraft:passthrough"}}},"D_always_true":{"title":"Always True","description":"Predicate that always evaluates to true. This is the default predicate if no other predicate is specified.","type":"object","additionalProperties":false,"required":["predicate_type"],"properties":{"predicate_type":{"title":"Predicate Type","type":"string","const":"minecraft:always_true"}}},"D_block_match":{"title":"Block Match","description":"Predicate that evaluates to true if the block at the specified location matches the specified block.","type":"object","properties":{"block":{"type":"string"},"predicate_type":{"title":"Predicate Type","type":"string","const":"minecraft:block_match"}},"required":["block","predicate_type"]},"D_random_block_match":{"title":"Random Block Match","description":"Predicate that evaluates to true with a given probability if the block at the specified location matches the specified block.","type":"object","properties":{"block":{"type":"string"},"predicate_type":{"title":"Predicate Type","type":"string","const":"minecraft:random_block_match"},"probability":{"type":"number","description":"Probability of the evaluating to true when the block matches.","minimum":0.0,"exclusiveMaximum":1.0}},"required":["block","predicate_type","probability"]},"D_tag_match":{"title":"Tag Match","description":"Predicate that evaluates to true if the block at the specified location contains the tag.","type":"object","properties":{"predicate_type":{"title":"Predicate Type","type":"string","const":"minecraft:tag_match"},"tag":{"title":"Tag","description":"The tag to be matched.","type":"string"}},"required":["predicate_type","tag"]},"D_blockstate_match":{"title":"BlockState Match","description":"Predicate that evaluates to true if the block at the specified location matches the specified block.","type":"object","properties":{"block_state":{"$ref":"#/definitions/E"},"predicate_type":{"title":"Predicate Type","type":"string","const":"minecraft:blockstate_match"}},"required":["block_state","predicate_type"]},"D_random_blockstate_match":{"title":"Random BlockState Match","description":"Predicate that evaluates to true with a given probability if the block at the specified location matches the specified block.","type":"object","properties":{"block_state":{"$ref":"#/definitions/E"},"predicate_type":{"title":"Predicate Type","type":"string","const":"minecraft:random_blockstate_match"},"probability":{"type":"number","description":"Probability of the evaluating to true when the block matches.","minimum":0.0,"exclusiveMaximum":1.0}},"required":["block_state","predicate_type","probability"]},"D_axis_aligned_linear_pos":{"title":"Axis Aligned Linear","description":"Predicate that evalutes to true if the block is within the distance range along the provided axis and and random number is generated between chance range.","type":"object","properties":{"axis":{"title":"Axis","description":"","type":"string","enum":["x","y","z"]},"max_chance":{"title":"Max Chance","description":"","type":"number","minimum":0.0,"exclusiveMaximum":1.0},"max_dist":{"title":"Max Dist","description":"","type":"integer","minimum":0.0},"min_chance":{"title":"Min Chance","description":"","type":"number","minimum":0.0,"exclusiveMaximum":1.0},"min_dist":{"title":"Min Dist","description":"","type":"integer","minimum":0.0},"predicate_type":{"title":"Predicate Type","type":"string","const":"minecraft:axis_aligned_linear_pos"}},"required":["predicate_type"]},"F":{"description":"A minecraft block identifier.","examples":["namespace:block"],"pattern":"^[0-9a-zA-Z:_\\.\\-]+$","title":"Block Identifier","type":"string","defaultSnippets":[{"label":"New Identifier","body":"$1:$2"}]},"G":{"type":"string","title":"Molang","description":"Molang definition.","format":"molang","examples":["query.variant","(1.0)","query.","variable.=;"],"defaultSnippets":[{"label":"New Molang","body":"$1"}]},"E":{"description":"A minecraft block reference.","examples":["namespace:block",{"name":"namespace:block"}],"title":"Block Reference","defaultSnippets":[{"label":"New Identifier","body":"$1:$2"}],"oneOf":[{"type":"string","$ref":"#/definitions/F"},{"title":"Block Reference","description":"","type":"object","additionalProperties":false,"properties":{"name":{"type":"string","$ref":"#/definitions/F"},"states":{"title":"States","description":"","type":"object","propertyNames":{"pattern":"\\w*:?\\w+"},"example":[{"property":"value"}],"additionalProperties":{"type":["boolean","integer","string"],"title":"State Value","description":"The key of property is the name of the block state/property, the value must be the same as the block properties accepted values."}},"tags":{"$ref":"#/definitions/G","description":"A condition using Molang queries that results to true/false that can be used to query for blocks with certain tags.","examples":["query.any_tag('wood')"]}}}]},"D":{"title":"Rule","type":"object","additionalProperties":false,"properties":{"processor_type":{"title":"Processor Type","type":"string","const":"minecraft:rule"},"rules":{"title":"Rules","type":"array","items":{"$ref":"#/definitions/D_rule"}}},"required":["processor_type","rules"]},"I":{"title":"Block Ignore","type":"object","properties":{"blocks":{"title":"Blocks","type":"array","items":{"type":"string"}},"processor_type":{"title":"Processor Type","type":"string","const":"minecraft:block_ignore"}},"required":["blocks","processor_type"]},"J":{"title":"Protected Blocks","type":"object","properties":{"processor_type":{"title":"Processor Type","type":"string","const":"minecraft:protected_blocks"},"value":{"type":"string"}},"required":["processor_type","value"]},"H":{"title":"Capped","type":"object","properties":{"delegate":{"oneOf":[{"$ref":"#/definitions/D"},{"$ref":"#/definitions/I"},{"$ref":"#/definitions/J"}]},"limit":{"oneOf":[{"type":"integer"},{"title":"Constant Integer","description":"","type":"object","additionalProperties":false,"properties":{"type":{"title":"Type","description":"","type":"string","const":"constant"},"value":{"title":"Value","description":"","type":"integer"}},"required":["type","value"]},{"title":"Uniform Integer","type":"object","properties":{"max_inclusive":{"title":"Max Inclusive","description":"","type":"integer"},"min_inclusive":{"title":"Min Inclusive","description":"","type":"integer"},"type":{"title":"Type","description":"","type":"string","const":"uniform"}},"required":["max_inclusive","min_inclusive","type"]}]},"processor_type":{"title":"Processor Type","type":"string","const":"minecraft:capped"}},"required":["delegate","limit","processor_type"]},"C":{"title":"Processors","description":"","type":"object","properties":{"processor_type":{"title":"Processor Type","type":"string","enum":["minecraft:rule","minecraft:capped","minecraft:block_ignore","minecraft:protected_blocks"]}},"allOf":[{"if":{"properties":{"processor_type":{"const":"minecraft:rule"}}},"then":{"$ref":"#/definitions/D"}},{"if":{"properties":{"processor_type":{"const":"minecraft:capped"}}},"then":{"$ref":"#/definitions/H"}},{"if":{"properties":{"processor_type":{"const":"minecraft:block_ignore"}}},"then":{"$ref":"#/definitions/I"}},{"if":{"properties":{"processor_type":{"const":"minecraft:protected_blocks"}}},"then":{"$ref":"#/definitions/J"}}]},"B":{"type":"object","title":"Processor List","additionalProperties":false,"required":["description","processors"],"properties":{"description":{"title":"Description","description":"The description of this jigsaw.","type":"object","additionalProperties":false,"properties":{"identifier":{"title":"Identifier","description":"Identifier of the Processor List. This is referenced by Template Pools when pairing processors with Structure Templates.","type":"string"}}},"processors":{"title":"Processors","description":"A list of processors.","type":"array","minItems":1,"items":{"$ref":"#/definitions/C"}}}}}}